<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/logo-icon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>capable</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Cormorant+Unicase:wght@700&family=Inter:wght@300;400;500;600;700&family=Syne:wght@400;500;600;700;800&display=swap"
    rel="stylesheet">
  <link href="https://api.fontshare.com/v2/css?f[]=satoshi@500,700,900&display=swap" rel="stylesheet">
  <script>
    // Global error suppressor for external offsetX errors (common in cursor extensions)
    (function () {
      const handler = (event) => {
        const error = event.error || event.reason;
        const errorMsg = (error?.message || String(error)).toLowerCase();

        // Handle specific non-critical errors
        if (errorMsg.includes('offsetx')) {
          event.preventDefault();
          return;
        }

        console.error('GLOBAL ERROR:', error);

        // List of errors that should trigger the connection issue UI
        const isNetworkError =
          errorMsg.includes('failed to fetch') ||
          errorMsg.includes('connection_timed_out') ||
          errorMsg.includes('net::err_') ||
          errorMsg.includes('loading chunk');

        // If the root is empty or the app hasn't loaded, show a fallback UI
        const root = document.getElementById('root');
        if (root && (!root.children.length || isNetworkError)) {
          root.innerHTML = `
            <div style="padding: 40px; color: #333; font-family: 'Inter', sans-serif; text-align: center; max-width: 500px; margin: 100px auto; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); background: white;">
              <h1 style="color: #ff4d4f; margin-bottom: 20px;">Connection Issue</h1>
              <p style="font-size: 16px; line-height: 1.6; color: #666;">
                The application is having trouble loading. This often happens on some mobile hotspots or restricted networks.
              </p>
              <div style="margin-top: 30px; padding: 15px; background: #f5f5f5; border-radius: 8px; text-align: left; font-size: 13px;">
                <code style="word-break: break-all; color: #888;">${errorMsg || 'Check your internet connection or try a different network.'}</code>
              </div>
              <button onclick="window.location.reload()" style="margin-top: 30px; padding: 12px 24px; background: #1890ff; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">
                Try Reloading
              </button>
            </div>`;
        }
      };

      // Final safety: if after 4 seconds the root is still empty, something is wrong
      setTimeout(() => {
        const root = document.getElementById('root');
        if (root && !root.children.length) {
          handler({ error: new Error('Application initialization timed out. Please check your network connection.') });
        }
      }, 4000);

      window.addEventListener('error', handler, true);
      window.addEventListener('unhandledrejection', handler, true);
    })();
  </script>
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>
</body>

</html>